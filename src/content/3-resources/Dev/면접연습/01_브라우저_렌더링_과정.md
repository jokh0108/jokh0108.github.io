# 브라우저 렌더링 과정

## 질문
브라우저 렌더링 과정을 설명해주세요.

## 답변
브라우저 렌더링은 HTML을 파싱하여 DOM 트리를 생성하고, CSS를 파싱하여 CSSOM 트리를 생성합니다. 이 두 트리를 결합하여 렌더 트리를 구성하고, 레이아웃 단계에서 각 요소의 위치와 크기를 계산합니다. 마지막으로 페인팅 단계에서 화면에 픽셀을 그려 사용자에게 보여줍니다.

### 참고 자료
- [MDN 웹 문서: Critical Rendering Path](https://developer.mozilla.org/ko/docs/Web/Performance/Critical_rendering_path)
- [구글 웹 개발자: 렌더링 성능](https://developers.google.com/web/fundamentals/performance/rendering?hl=ko)

### 렌더링 과정 도식화
```
┌─────────────┐    ┌─────────────┐
│ HTML 파싱   │    │ CSS 파싱    │
│ (DOM 트리)  │    │ (CSSOM 트리)│
└─────┬───────┘    └──────┬──────┘
      │                   │
      └────────┬──────────┘
               ▼
       ┌─────────────────┐
       │  렌더 트리 구성  │
       └────────┬────────┘
                ▼
       ┌─────────────────┐
       │     레이아웃     │
       │(Layout/Reflow)  │
       └────────┬────────┘
                ▼
       ┌─────────────────┐
       │     페인팅      │
       │    (Paint)      │
       └────────┬────────┘
                ▼
       ┌─────────────────┐
       │   컴포지팅      │
       │  (Compositing)  │
       └─────────────────┘
```

## 꼬리 질문 1
Critical Rendering Path란 무엇인가요?

### 답변
Critical Rendering Path는 브라우저가 HTML, CSS, JavaScript를 화면에 픽셀로 변환하는 일련의 단계입니다. 이 경로를 최적화하면 페이지 로드 속도와 사용자 경험을 향상시킬 수 있습니다. 주요 단계는 DOM 및 CSSOM 구성, 렌더 트리 생성, 레이아웃, 페인트입니다.

### 참고 자료
- [웹 성능 최적화: Critical Rendering Path](https://web.dev/articles/critical-rendering-path?hl=ko)
- [MDN: 렌더링 성능](https://developer.mozilla.org/ko/docs/Web/Performance/rendering)

## 꼬리 질문 2
리플로우(Reflow)와 리페인트(Repaint)의 차이점은 무엇인가요?

### 답변
리플로우는 요소의 위치나 크기가 변경될 때 발생하며, 레이아웃 단계부터 다시 계산해야 합니다. 리페인트는 요소의 시각적 속성만 변경될 때 발생하며, 레이아웃은 건너뛰고 페인팅만 다시 수행합니다. 리플로우는 리페인트보다 계산 비용이 높습니다.

### 참고 자료
- [MDN: 리플로우와 리페인트](https://developer.mozilla.org/ko/docs/Web/Performance/reflow)
- [CSS Triggers](https://csstriggers.com/) - 어떤 CSS 속성이 리플로우와 리페인트를 유발하는지 보여주는 사이트

### 차이점 도식화
```
리플로우(Reflow)가 발생하는 경우:
레이아웃 변경 (width, height, margin 등) → 리플로우 → 리페인트 → 컴포지팅

리페인트(Repaint)만 발생하는 경우:
시각적 변경 (color, background 등) → 리페인트 → 컴포지팅
```

## 꼬리 질문 3
브라우저의 렌더링 성능을 개선하는 방법은 무엇인가요?

### 답변
CSS 애니메이션에 transform과 opacity 속성 사용하기, JavaScript로 DOM 조작 최소화하기, 불필요한 레이아웃 트리거 피하기, CSS selector 최적화, requestAnimationFrame 사용하기, 큰 DOM 변경은 DocumentFragment 사용하기, CSS will-change 속성 활용하기 등이 있습니다.

### 참고 자료
- [Google Web Fundamentals: 렌더링 성능](https://developers.google.com/web/fundamentals/performance/rendering?hl=ko)
- [MDN: 웹 성능](https://developer.mozilla.org/ko/docs/Web/Performance)

### 성능 개선 방법 도식화
```
┌────────────────────────┐
│ 렌더링 성능 최적화 전략 │
└───────────┬────────────┘
            │
  ┌─────────┴──────────┐
  │                    │
  ▼                    ▼
┌─────────────┐  ┌─────────────┐
│ 레이아웃 최소화│  │ 페인트 최소화│
└──────┬──────┘  └──────┬──────┘
       │                │
       ▼                ▼
┌─────────────┐  ┌─────────────┐
│transform/   │  │GPU 가속 활용 │
│opacity 사용 │  │(컴포지팅 레이어)│
└─────────────┘  └─────────────┘
       │                │
       └────────┬───────┘
                ▼
       ┌─────────────────┐
       │requestAnimation │
       │Frame 사용      │
       └─────────────────┘
``` 
